<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Test your knowledge with our interactive quiz app!"
    />
    <title>QuizMaster - Test Your Knowledge</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ§ </text></svg>"
    />
  </head>
  <body>
    <div class="app-container">
      <button class="btn btn-icon btn-secondary theme-toggle" id="themeToggle">
        ğŸŒ™
      </button>
      <button class="btn btn-icon btn-secondary sound-toggle" id="soundToggle">
        ğŸ”Š
      </button>
      <div class="streak-indicator" id="streakIndicator">
        <span class="icon">ğŸ”¥</span>
        <span class="streak-count" id="streakCount">0</span>
        <span class="streak-label">Streak</span>
      </div>
      <div class="confetti-container" id="confettiContainer"></div>

      <!-- USER INFO BADGE -->
      <div class="user-badge hidden" id="userBadge">
        <span class="user-avatar" id="userAvatar">ğŸ‘¤</span>
        <span class="user-name" id="userName">User</span>
        <button class="btn-logout" id="logoutBtn" title="Logout">ğŸšª</button>
      </div>

      <!-- LOGIN SCREEN -->
      <div class="glass-card login-screen" id="loginScreen">
        <div class="login-icon">ğŸ”</div>
        <h1>Welcome to QuizMaster</h1>
        <p class="subtitle">Please login to continue</p>

        <form class="login-form" id="loginForm">
          <div class="form-group">
            <label for="userId">ğŸ‘¤ User ID</label>
            <input
              type="text"
              id="userId"
              placeholder="Enter your user ID"
              autocomplete="username"
              required
            />
          </div>
          <div class="form-group">
            <label for="password">ğŸ”’ Password</label>
            <input
              type="password"
              id="password"
              placeholder="Enter your password"
              autocomplete="current-password"
              required
            />
          </div>
          <div class="login-error hidden" id="loginError">
            âš ï¸ Invalid credentials. Please try again.
          </div>
          <button type="submit" class="btn btn-primary btn-login">
            ğŸš€ Login
          </button>
        </form>
      </div>

      <!-- START SCREEN -->
      <div class="glass-card start-screen hidden" id="startScreen">
        <h1>ğŸ§  QuizMaster</h1>
        <p class="subtitle">Select a topic and test your knowledge!</p>

        <!-- Topic Selector -->
        <div class="topic-selector">
          <label for="topicSelect">ğŸ“š Choose Topic:</label>
          <select id="topicSelect" class="topic-dropdown">
            <option value="" disabled>Loading topics...</option>
          </select>
        </div>
        <div class="features-grid">
          <div class="feature-item">
            <span class="icon">â±ï¸</span><span>Timed Questions</span>
          </div>
          <div class="feature-item">
            <span class="icon">ğŸ“Š</span><span>Score Analytics</span>
          </div>
          <div class="feature-item">
            <span class="icon">ğŸ”¥</span><span>Streak Bonus</span>
          </div>
          <div class="feature-item">
            <span class="icon">ğŸ’¡</span><span>Explanations</span>
          </div>
        </div>
        <div class="settings-row">
          <div class="toggle-container">
            <span>ğŸ”€ Shuffle</span>
            <div class="toggle active" id="shuffleToggle"></div>
          </div>
          <div class="toggle-container">
            <span>â±ï¸ Timer</span>
            <div class="toggle active" id="timerToggle"></div>
          </div>
        </div>
        <button class="btn btn-primary" id="startBtn">ğŸš€ Start Quiz</button>
        <button class="btn btn-notes hidden" id="notesBtn">ğŸ“– Study Notes</button>
        <button
          class="btn btn-secondary"
          id="dashboardBtn"
          style="margin-top: var(--spacing-md); width: 100%"
        >
          ğŸ“Š View Dashboard
        </button>
        <p
          class="subtitle"
          style="margin-top: var(--spacing-lg); font-size: 0.9rem"
        >
          Your Topic High Score: <strong id="highScoreDisplay">0</strong>
        </p>
      </div>

      <!-- QUIZ SCREEN -->
      <div class="glass-card quiz-screen" id="quizScreen">
        <div class="quiz-header">
          <button class="btn btn-quit" id="quitBtn" title="Quit Quiz">
            âœ• Quit
          </button>
          <div class="question-counter">
            Question <span id="currentQuestion">1</span> /
            <span id="totalQuestions">20</span>
          </div>
          <div class="score-display">
            <span class="icon">â­</span
            ><span class="score-value" id="currentScore">0</span>
          </div>
        </div>
        <div class="progress-container">
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
        </div>
        <div class="timer-container" id="timerContainer">
          <div class="timer-circle">
            <svg width="60" height="60">
              <circle class="timer-bg" cx="30" cy="30" r="26"></circle>
              <circle
                class="timer-progress"
                id="timerProgress"
                cx="30"
                cy="30"
                r="26"
                stroke-dasharray="163.36"
                stroke-dashoffset="0"
              ></circle>
            </svg>
            <span class="timer-text" id="timerText">15</span>
          </div>
        </div>
        <div class="question-container fade-in" id="questionContainer">
          <h2 class="question-text" id="questionText">Loading...</h2>
          <div class="options-container" id="optionsContainer"></div>
          <div class="explanation-box" id="explanationBox">
            <div class="explanation-title">ğŸ’¡ Did you know?</div>
            <p id="explanationText"></p>
          </div>
        </div>
        <div class="next-btn-container">
          <button class="btn btn-primary hidden" id="nextBtn">
            Next Question â†’
          </button>
        </div>
      </div>

      <!-- RESULTS SCREEN -->
      <div class="glass-card results-screen" id="resultsScreen">
        <div class="results-icon" id="resultsIcon">ğŸ†</div>
        <h2 class="results-title" id="resultsTitle">Congratulations!</h2>
        <p class="results-subtitle" id="resultsSubtitle">
          You've completed the quiz!
        </p>
        <div class="score-breakdown">
          <div class="score-item highlight">
            <span class="value" id="finalScore">0</span
            ><span class="label">Total Score</span>
          </div>
          <div class="score-item">
            <span class="value" id="correctAnswers">0/20</span
            ><span class="label">Correct</span>
          </div>
          <div class="score-item">
            <span class="value" id="accuracy">0%</span
            ><span class="label">Accuracy</span>
          </div>
          <div class="score-item">
            <span class="value" id="bestStreak">0</span
            ><span class="label">Best Streak ğŸ”¥</span>
          </div>
          <div class="score-item">
            <span class="value" id="timeTaken">0:00</span
            ><span class="label">Time</span>
          </div>
          <div class="score-item">
            <span class="value" id="avgTime">0s</span
            ><span class="label">Avg/Question</span>
          </div>
        </div>
        <div class="results-actions">
          <button class="btn btn-primary" id="restartBtn">ğŸ”„ Play Again</button>
          <button class="btn btn-secondary" id="reviewBtn">
            ğŸ“š Review Mistakes
          </button>
          <button class="btn btn-secondary" id="shareBtn">ğŸ“¤ Share</button>
          <button class="btn btn-secondary" id="homeBtn">ğŸ  Main Menu</button>
        </div>
      </div>

      <!-- DASHBOARD SCREEN -->
      <div class="glass-card dashboard-screen hidden" id="dashboardScreen">
        <div class="dashboard-header">
          <div class="dashboard-user">
            <span class="user-avatar-large" id="dashAvatar">ğŸ‘¤</span>
            <div class="user-info-text">
              <h2 id="dashName">User Name</h2>
              <span class="user-level" id="dashLevel">Level 1 Novice</span>
            </div>
          </div>
          <button class="btn btn-secondary btn-icon" id="dashHomeBtn">
            ğŸ 
          </button>
        </div>

        <div class="stats-grid">
          <div class="stat-card">
            <span class="value" id="statXP">0</span>
            <span class="label">Total XP</span>
          </div>
          <div class="stat-card">
            <span class="value" id="statQuizzes">0</span>
            <span class="label">Quizzes Played</span>
          </div>
          <div class="stat-card">
            <span class="value" id="statAccuracy">0%</span>
            <span class="label">Best Accuracy</span>
          </div>
        </div>

        <div class="dashboard-section">
          <h3>ğŸ–ï¸ Achievements</h3>
          <div class="badges-grid" id="badgesGrid">
            <!-- Badges will be injected here -->
          </div>
        </div>

        <div class="dashboard-section">
          <h3>ğŸ† Global Leaderboard</h3>
          <div class="history-list" id="leaderboardList">
            <!-- Leaderboard items will be injected here -->
          </div>
        </div>

        <div class="dashboard-section">
          <h3>â³ Recent Activity</h3>
          <div class="history-list" id="historyList">
            <!-- History items will be injected here -->
          </div>
        </div>
      </div>

      <!-- REVIEW SCREEN -->
      <div class="glass-card review-screen hidden" id="reviewScreen">
        <div
          class="dashboard-header"
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-xl);
          "
        >
          <h2 style="margin: 0">ğŸ“š Mistake Review</h2>
          <button class="btn btn-secondary btn-icon" id="reviewBackBtn">
            ğŸ 
          </button>
        </div>
        <p class="subtitle" style="margin-bottom: var(--spacing-lg)">
          Look over the questions you missed to sharpen your knowledge!
        </p>
        <div
          class="review-list"
          id="reviewList"
          style="
            display: flex;
            flex-direction: column;
            gap: var(--spacing-lg);
            max-height: 400px;
            overflow-y: auto;
            padding-right: var(--spacing-sm);
          "
        >
          <!-- Missed questions will be injected here -->
        </div>
        <div class="results-actions" style="margin-top: var(--spacing-xl)">
          <button class="btn btn-primary" id="reviewPlayAgainBtn">
            ğŸ”„ Try Quiz Again
          </button>
        </div>
      </div>

      <!-- NOTES SCREEN -->
      <div class="glass-card notes-screen hidden" id="notesScreen">
        <div class="notes-header">
          <button class="btn btn-secondary btn-icon" id="notesBackBtn">
            â†
          </button>
          <h2 id="notesTitle">ğŸ“– Study Notes</h2>
        </div>
        <div class="notes-content" id="notesContent">
          <!-- Notes content will be injected here -->
        </div>
        <div class="notes-footer">
          <button class="btn btn-primary" id="notesStartQuizBtn">
            ğŸ¯ Start Quiz Now
          </button>
        </div>
      </div>

      <!-- QUIT MODAL -->
      <div class="modal-overlay hidden" id="quitModal">
        <div class="glass-card modal-content">
          <h2>â¸ï¸ Quiz Paused</h2>
          <p class="modal-subtitle">Are you sure you want to quit?</p>
          <div class="modal-stats">
            <div class="modal-stat">
              <span class="value" id="modalScore">0</span>
              <span class="label">Current Score</span>
            </div>
            <div class="modal-stat">
              <span class="value" id="modalCorrect">0</span>
              <span class="label">Correct</span>
            </div>
            <div class="modal-stat">
              <span class="value" id="modalProgress">0%</span>
              <span class="label">Progress</span>
            </div>
          </div>
          <div class="modal-actions">
            <button class="btn btn-primary" id="resumeBtn">â–¶ï¸ Resume</button>
            <button class="btn btn-danger" id="confirmQuitBtn">
              ğŸšª Quit & See Results
            </button>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
